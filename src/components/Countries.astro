---
import { countries } from "../data/countries";

// Group countries by region
const regions = [
    "Europe",
    "North America",
    "Asia",
    "Africa",
    "South America",
    "Oceania",
];
const groupedCountries = regions.map((region) => ({
    name: region,
    countries: countries.filter((country) => country.region === region),
}));
---

<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-20">
    {
        groupedCountries.map((region) => (
            <section>
                <h2 class="text-2xl md:text-3xl font-bold text-gray-900 mb-8 border-l-4 border-brand-yellow pl-4">
                    {region.name}
                </h2>
                <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
                    {region.countries.map((country) => (
                        <a
                            href={
                                country.image
                                    ? `/countries/${country.slug}`
                                    : "/contact"
                            }
                            class="bg-white p-4 flex items-center space-x-4 shadow-sm hover:shadow-md transition-shadow border border-gray-100 rounded-none cursor-pointer group hover:border-brand-blue"
                        >
                            <img
                                src={country.flag}
                                width="30"
                                loading="lazy"
                                decoding="async"
                                alt={country.name}
                                class="shadow-sm"
                            />
                            <span class="text-gray-800 font-semibold group-hover:text-brand-blue transition-colors">
                                {country.name}
                            </span>
                        </a>
                    ))}
                </div>
            </section>
        ))
    }
</div>
